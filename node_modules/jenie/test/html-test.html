
<template>
	<p j-text="text | upper">{{NULL}}</p>
	<input type="text" j-value="text" placeholder="text">
	<input type="text" j-value="items.value.0" placeholder="items.value.0">
	<div style="height: 300px;" j-each-item="items">
		<div j-text="item.value"></div>
	</div>
</template>

<script>
	Jenie.component({
		name: 'html-test',
		template: 'template',
		model: {
			text: 'Hello from html test',
			items: [
				{ value: 'foo' },
				{ value: 'bar' },
				{ value: 'baz' }
			]
		},
		modifiers: {
			upper: function () {
				return this.toUpperCase();
			}
		},
		created: function () {
			var self = this;

			console.log('created ' + self.name);
			self.model.text = 'new html render';
			this.model.items.del('0');

			var increaseInterval = setInterval(function () {
				if (self.model.items.length === 5) {
					clearInterval(increaseInterval);

					var decreaseInterval = setInterval(function () {
						if (self.model.items.length === 3) clearInterval(decreaseInterval);
						self.model.items.del(self.model.items.length-1);
					}, 500);
				}

				self.model.items.ins(self.model.items.length, { value: self.model.items.length });
			}, 500);

			console.log(self.binder);
		},
		attached: function () {
			console.log('attached ' + this.name);
		},
		detached: function () {
			console.log('detached ' + this.name);
		}
	});
</script>
